<div class="mt-20 ml-48 md:ml-56 xl:ml-72 z-0 custom-scrollbar orverflow-auto">
  <div class="grid grid-row md:grid-cols-2 xl:grid-cols-3 gap-2 rounded-2xl">
    <% @posts.each do |post| %>
      <%= link_to post_path(post), class: "m-3 max-w-sm bg-white rounded-2xl transition-transform transform hover:scale-105 cursor-pointer" do %>
        <div class="flex justify-center pt-3 px-3">
          <div class="pt-3 pl-2 w-24">
            <!-- アイコン画像 -->
            <%= image_tag 'defaultUser.jpg', class: "border border-black/80 rounded-full min-w-12", width: 50, height: 50  %>
            <!-- ユーザー名 -->
            <div class="text-sm font-semibold pr-2"><%= post.user.name %></div>
          </div>
          <div class="flex flex-col font-semibold min-w-48 w-96 italic space-x-2">
            <div class="flex flex-wrap text-xl w-72">
              <!-- ブランド・楽器の種類 -->
              <%= post.brand %>
              <span class="pl-2"><%= post.category %></span>
            </div>
            <!-- 楽器のモデル -->
            <% if post.instrument_model.present? %>
              <div class="text-lg mr-2 flex-wrap "><%= post.instrument_model %></div>
            <% else %>
               <div class="text-lg mr-2">&nbsp;</div>
            <% end %>

            <!-- 製造年月 -->
            <% if post.production_year.present? %>
              <div class="text-base text-right pr-6 mb-1"><%= post.production_year %>年製</div>
            <% else %>
              <div class="text-base text-right pr-6 mb-1">&nbsp;</div>
            <% end %>
          </div>
        </div>
        <div class="text-sm text-right mr-4 -mt-2">
          <span class="text-sm mr-4"><%= time_ago_in_words(post.created_at) %>前</span>
           #ギター
        </div>
        <!-- メイン画像 -->
        <% if post.image.present? %>
          <div class="relative">
              <%= image_tag post.image, class: "object-cover h-72 w-96 border-t-2 border-black rounded-b-2xl", size: "80x80" %>
              <% if current_user.liked?(post) %>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="absolute top-2 right-4 text-red-500 size-6">
                  <path d="m11.645 20.91-.007-.003-.022-.012a15.247 15.247 0 0 1-.383-.218 25.18 25.18 0 0 1-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0 1 12 5.052 5.5 5.5 0 0 1 16.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 0 1-4.244 3.17 15.247 15.247 0 0 1-.383.219l-.022.012-.007.004-.003.001a.752.752 0 0 1-.704 0l-.003-.001Z" />
                </svg>
                <span class="absolute top-1 right-1 text-white">
                  <%= post.likes.count %>
                </span>
              <% else %>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="absolute top-2 right-4 text-gray-700 size-6">
                  <path d="m11.645 20.91-.007-.003-.022-.012a15.247 15.247 0 0 1-.383-.218 25.18 25.18 0 0 1-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0 1 12 5.052 5.5 5.5 0 0 1 16.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 0 1-4.244 3.17 15.247 15.247 0 0 1-.383.219l-.022.012-.007.004-.003.001a.752.752 0 0 1-.704 0l-.003-.001Z" />
                </svg>
                <span class="absolute top-1 right-1">
                <%= post.likes.count %>
              <% end %>
          </div>
        <% else %>
          <%= image_tag 'default.jpg', class: "object-cover h-72 w-96 border-t-2 border-black rounded-b-2xl" %>
        <% end %>
      <% end %>
    <% end %>
  </div>
</div>